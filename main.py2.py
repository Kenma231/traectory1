import telebot
# from telebot import types
# from telebot.storage import StateMemoryStorage

bot = telebot.TeleBot('7897812913:AAESbiz6ieAh4iORHFPfV7lhRNADMoBh0VA')

user_state = {}

@bot.message_handler(commands=['start'])
def start(message):
    bot.send_message(message.chat.id, '–ü—Ä–∏–≤–µ—Ç, –ø—É—Ç–Ω–∏–∫! –≠—Ç–æ –Ω–∞—à–∞ –±–µ—Ç–∞-–≤–µ—Ä—Å–∏—è –∫–≤–µ—Å—Ç–æ–≤, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Ö–Ω–æ–ø–∞—Ä–∫–∞. –ú—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –∏ —Ö–æ—Ç–∏–º, —á—Ç–æ–±—ã —Å–µ–≥–æ–¥–Ω—è –≤—ã –µ–≥–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏. –ü—Ä–æ–π–¥–∏ —Ç—Ä–∏ –∑–∞–¥–∞–Ω–∏—è, –∏ —Ç—ã –ø–æ–ª—É—á–∏—à—å –Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–∏–∑ üòâ \n–í–æ–∑–º–æ–∂–Ω–æ, —Ç—ã –Ω–∞–π–¥–µ—à—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ –Ω–∞—à–µ–º —Ç–µ–ª–µ–≥—Ä–∞–º-–∫–∞–Ω–∞–ª–µ: https://t.me/traektoria_40 \n–ê —Ç–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–∏: <b>¬´<u>–ü–æ–µ—Ö–∞–ª–∏!</u>¬ª</b> –∏ –ø–æ–ª—É—á–∏ –ø–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ!', parse_mode='html')
    user_state[message.chat.id] = 0

@bot.message_handler(func=lambda message: message.chat.id in user_state)
def handle_guest(message):
    current_state = user_state[message.chat.id]

    if current_state == 0 and message.text.lower() == '–ø–æ–µ—Ö–∞–ª–∏!' or message.text.lower() == '–ø–æ–µ—Ö–∞–ª–∏':
        bot.send_message(message.chat.id, '–ü–µ—Ä–µ–¥ —ç—Ç–∏–º –≤–µ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –∑–¥–∞–Ω–∏–µ–º –µ—Å—Ç—å –æ–≥—Ä–æ–º–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å, –∫–æ—Ç–æ—Ä–∞—è –≥–ª–∞—Å–∏—Ç: ¬´–ú—ã –≤–∞—Å –ª—é–±–∏–º –∏ –∂–¥–µ–º!¬ª, –æ–Ω–∞ –∂–µ –Ω–∞–ø–∏—Å–∞–Ω–∞ –∏ –Ω–∞ —Å—Ç—É–ø–µ–Ω—å–∫–∞—Ö –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º. \n–£–≥–∞–¥–∞–ª, —á—Ç–æ –∑–∞ –º–µ—Å—Ç–æ? –¢–æ–≥–¥–∞ –∏—â–∏ –µ–≥–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é –∏ —Ç—ã —É–∑–Ω–∞–µ—à—å, —á—Ç–æ –Ω—É–∂–Ω–æ —Å—é–¥–∞ –≤–ø–∏—Å–∞—Ç—å, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ. –£–¥–∞—á–∏! üòâ')
        user_state[message.chat.id] += 1

    elif current_state == 1 and message.text.lower() == '–æ–≥–æ–Ω—å':
        bot.send_message(message.chat.id,'–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –¢—ã –≤—ã–ø–æ–ª–Ω–∏–ª –ø–µ—Ä–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ! \n–ö—Å—Ç–∞—Ç–∏, –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π —Ñ–∞–∫—Ç: –Ω–∞—à –¥—Ä–∞–º—Ç–µ–∞—Ç—Ä –±—ã–ª –æ—Å–Ω–æ–≤–∞–Ω –≤ 1777, –Ω–æ —Å —Ç–µ—Ö –ø–æ—Ä —Ç—Ä–∏ —Ä–∞–∑–∞ —Å–≥–æ—Ä–∞–ª –∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–µ—Ä–µ–Ω–æ—Å–∏–ª—Å—è –≤ —Ä–∞–∑–Ω—ã–µ –∑–¥–∞–Ω–∏—è. \n–ù—É —á—Ç–æ, –∏–¥–µ–º –¥–∞–ª—å—à–µ? –ù–∞–π–¥–∏ –∫–∞—Ä—Ç–∏–Ω–∫—É —Å –º—É–∑–µ–µ–º –∫–æ—Å–º–æ–Ω–∞–≤—Ç–∏–∫–∏ –∏ —Ç—ã, –ø–æ–π–º–µ—à—å, —á—Ç–æ –Ω—É–∂–Ω–æ –≤–ø–∏—Å–∞—Ç—å —Å—é–¥–∞. –£ —Ç–µ–±—è –≤—Å—ë –ø–æ–ª—É—á–∏—Ç—Å—è! :)')
        user_state[message.chat.id] += 1

    elif current_state == 2 and message.text.lower() == '–ø–∞—Ä–∫ —Ü–∏–æ–ª–∫–æ–≤—Å–∫–æ–≥–æ':
        bot.send_message(message.chat.id,'–ú–æ–ª–æ–¥–µ—Ü, —ç—Ç–æ –≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç! \n–ö—Å—Ç–∞—Ç–∏, –∞ —Ç—ã –∑–Ω–∞–ª, —á—Ç–æ —Ä—è–¥–æ–º —Å –ú—É–∑–µ–µ–º –ö–æ—Å–º–æ–Ω–∞–≤—Ç–∏–∫–∏ —Å—Ç–æ–∏—Ç –Ω–∞—Å—Ç–æ—è—â–∏–π –¥—É–±–ª–µ—Ä —Ä–∞–∫–µ—Ç—ã –í–æ—Å—Ç–æ–∫-1? –ò–º–µ–Ω–Ω–æ –Ω–∞ —Ä–∞–∫–µ—Ç–µ ¬´–í–æ—Å—Ç–æ–∫¬ª –Æ—Ä–∏–π –ê–ª–µ–∫—Å–µ–µ–≤–∏—á –ì–∞–≥–∞—Ä–∏–Ω –≤–ø–µ—Ä–≤—ã–µ –ø–æ–ª–µ—Ç–µ–ª –≤ –∫–æ—Å–º–æ—Å. \n–ò—Ç–∞–∫, –≤ —Ç–≤–æ–µ–π –∫–æ–ø–∏–ª–∫–µ —É–∂–µ –¥–≤–∞ –∑–∞–¥–∞–Ω–∏—è, –æ—Å—Ç–∞–ª–æ—Å—å –ø–æ—Å–ª–µ–¥–Ω–µ–µ. –ù—É —á—Ç–æ, –ø–æ–µ—Ö–∞–ª–∏? \n–ù–∞–ø–∏—à–∏ –æ—Ç–≤–µ—Ç –Ω–∞ —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å: \n–†–∞–Ω—å—à–µ –Ω–∞ –º–µ—Å—Ç–µ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –ø–∞—Ä–∫–∞ –∫—É–ª—å—Ç—É—Ä—ã –∏ –æ—Ç–¥—ã—Ö–∞ —Å—Ç–æ—è–ª–∞ –ö–∞–ª—É–∂—Å–∫–∞—è –∫—Ä–µ–ø–æ—Å—Ç—å, –Ω–æ –æ–Ω–∞ —Å–≥–æ—Ä–µ–ª–∞. –ö–∞–∫–æ–π —Å–æ–±–æ—Ä –ø–æ—Å—Ç—Ä–æ–∏–ª–∏ –Ω–∞ –º–µ—Å—Ç–µ —Å—Ç–∞—Ä–æ–π —Ü–µ—Ä–∫–≤–∏?')
        user_state[message.chat.id] += 1

    elif current_state == 3 and message.text.lower() == '—Å–≤—è—Ç–æ-—Ç—Ä–æ–∏—Ü–∫–∏–π —Å–æ–±–æ—Ä' or message.text.lower() == '—Å–≤—è—Ç–æ-—Ç—Ä–æ–∏—Ü–∫–∏–π –∫–∞—Ñ–µ–¥—Ä–∞–ª—å–Ω—ã–π —Å–æ–±–æ—Ä' or message.text.lower() == '—Ç—Ä–æ–∏—Ü—Å–∫–∏–π —Å–æ–±–æ—Ä' or message.text.lower() == '—Ç—Ä–æ–∏—Ü–∫–∏–π —Å–æ–±–æ—Ä' or message.text.lower() == '—Ç—Ä–æ–∏—Ü–∫–∏–π –∫–∞—Ñ–µ–¥—Ä–∞–ª—å–Ω—ã–π —Å–æ–±–æ—Ä':
        bot.send_message(message.chat.id,'–≠—Ç–æ –≤–µ—Ä–Ω–æ, –°–≤—è—Ç–æ-–¢—Ä–æ–∏—Ü–∫–∏–π –ö–∞—Ñ–µ–¥—Ä–∞–ª—å–Ω—ã–π —Å–æ–±–æ—Ä –±—ã–ª –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –º–µ—Å—Ç–µ —Å—Ç–∞—Ä–æ–π –¥–µ—Ä–µ–≤—è–Ω–Ω–æ–π —Ü–µ—Ä–∫–≤–∏ –≤–æ –∏–º—è –¢—Ä–æ–∏—Ü—ã –ñ–∏–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π, —á—Ç–æ –±—ã–ª–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ –ö–∞–ª—É–∂—Å–∫–æ–π –∫—Ä–µ–ø–æ—Å—Ç–∏, —Ç–∞–∫ –∂–µ –Ω–∞–∑—ã–≤–∞–µ–º–æ–π –ö–∞–ª—É–∂—Å–∫–∏–º –ö—Ä–µ–º–ª–µ–º. \n–ê —Ç–µ–ø–µ—Ä—å‚Ä¶ \n–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! ü•≥ \n–¢—ã –ø—Ä–æ—à–µ–ª –Ω–∞—à –∫–≤–µ—Å—Ç, –≤—ã–ø–æ–ª–Ω–∏–≤ –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è! –ü–æ–¥—Ö–æ–¥–∏ –∫ —Å—Ç–µ–Ω–¥—É –∫–æ–º–∞–Ω–¥—ã ¬´–í–µ–∫—Ç–æ—Ä —É—Å–ø–µ—Ö–∞¬ª –∑–∞ –Ω–∞–≥—Ä–∞–¥–æ–π! –ê –µ—â–µ —Ç–∞–º —Ç—ã –º–æ–∂–µ—à—å –ø–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è –∏ —É–≤–µ–ª–∏—á–∏—Ç—å —Å–≤–æ–∏ –Ω–∞–≥—Ä–∞–¥—ã üéÅ \n \n–î–æ –Ω–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á!')
        del user_state[message.chat.id]

    else:
        bot.send_message(message.chat.id, 'Ox, –∫–∞–∂–µ—Ç—Å—è —ç—Ç–æ –Ω–µ–≤–µ—Ä–Ω—ã–π –æ—Ç–≤–µ—Ç... –ü—Ä–æ–±—É–π —Å–Ω–æ–≤–∞!')



bot.polling(none_stop=True)

